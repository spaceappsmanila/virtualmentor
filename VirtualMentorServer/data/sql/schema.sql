CREATE TABLE answer (id BIGINT AUTO_INCREMENT, mentee BIGINT NOT NULL, question BIGINT NOT NULL, feedback BIGINT, answer TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX mentee_idx (mentee), INDEX question_idx (question), INDEX feedback_idx (feedback), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE course (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description TEXT NOT NULL, owner BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX owner_idx (owner), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE course_registration (id BIGINT AUTO_INCREMENT, course BIGINT NOT NULL, mentee BIGINT NOT NULL, status BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX course_idx (course), INDEX mentee_idx (mentee), INDEX status_idx (status), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE feedback (id BIGINT AUTO_INCREMENT, question BIGINT NOT NULL, videochat BIGINT NOT NULL, website BIGINT NOT NULL, questionability BIGINT NOT NULL, interest BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX question_idx (question), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE lesson_plan (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, description TEXT NOT NULL, durationindays BIGINT NOT NULL, owner BIGINT NOT NULL, course BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX owner_idx (owner), INDEX course_idx (course), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE member (id BIGINT AUTO_INCREMENT, firstname VARCHAR(255) NOT NULL, lastname VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, membership BIGINT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX membership_idx (membership), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE membership (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE question (id BIGINT AUTO_INCREMENT, lessonplan BIGINT NOT NULL, name VARCHAR(255) NOT NULL, question TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX lessonplan_idx (lessonplan), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE registration_status (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
ALTER TABLE answer ADD CONSTRAINT answer_question_question_id FOREIGN KEY (question) REFERENCES question(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE answer ADD CONSTRAINT answer_mentee_member_id FOREIGN KEY (mentee) REFERENCES member(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE answer ADD CONSTRAINT answer_feedback_feedback_id FOREIGN KEY (feedback) REFERENCES feedback(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE course ADD CONSTRAINT course_owner_member_id FOREIGN KEY (owner) REFERENCES member(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE course_registration ADD CONSTRAINT course_registration_status_registration_status_id FOREIGN KEY (status) REFERENCES registration_status(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE course_registration ADD CONSTRAINT course_registration_mentee_member_id FOREIGN KEY (mentee) REFERENCES member(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE course_registration ADD CONSTRAINT course_registration_course_course_id FOREIGN KEY (course) REFERENCES course(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE feedback ADD CONSTRAINT feedback_question_question_id FOREIGN KEY (question) REFERENCES question(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE lesson_plan ADD CONSTRAINT lesson_plan_owner_member_id FOREIGN KEY (owner) REFERENCES member(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE lesson_plan ADD CONSTRAINT lesson_plan_course_course_id FOREIGN KEY (course) REFERENCES course(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE member ADD CONSTRAINT member_membership_membership_id FOREIGN KEY (membership) REFERENCES membership(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE question ADD CONSTRAINT question_lessonplan_lesson_plan_id FOREIGN KEY (lessonplan) REFERENCES lesson_plan(id) ON UPDATE CASCADE ON DELETE CASCADE;
